<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             xmlns:converters="using:BarFoo.Presentation.Converters"
             xmlns:vm="using:BarFoo.Presentation.ViewModels"
             xmlns:views="clr-namespace:BarFoo.Presentation.Views"
             x:Class="BarFoo.Presentation.Views.MainView"
             x:DataType="vm:MainViewModel">

  <UserControl.Resources>
    <converters:UpdatingConverter x:Key="UpdatingConverter"/>
  </UserControl.Resources>
  
  <Grid RowDefinitions="*,auto">

    <!-- SplitView -->
    <SplitView Grid.Row="0"
               IsPaneOpen="{Binding IsPaneOpen}"
               DisplayMode="CompactInline"
               OpenPaneLength="250"
               PanePlacement="Left">

      <SplitView.Pane>

        <StackPanel
            Spacing="5"
            Margin="5">

          <Button
            Command="{Binding TogglePaneCommand}"
            VerticalAlignment="Top"
            HorizontalAlignment="Right">
            <PathIcon Data="{StaticResource LineHorizontal3Regular}" />
          </Button>

          <views:ApiKeyView DataContext="{Binding ApiKeyVM}"/>
        </StackPanel>

      </SplitView.Pane>

      <!-- Main Content -->
      <Grid RowDefinitions="Auto,*" ColumnDefinitions="7*,3*">

        <!-- Filters -->
        <Panel Grid.Row="0" Grid.Column="0"
               Margin="20 20 0 20">
          <views:FilterView DataContext="{Binding FilterVM}"/>
        </Panel>

        <!-- Header -->
        <Label Grid.Row="0" Grid.Column="1"
               Margin="0 20 0 20"
               HorizontalContentAlignment="Center"
               Classes="h1">
          Wizard's Vault
        </Label>

        <!-- Objectives -->
        <Panel Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2"
               Margin="0 10 10 10">
          <views:ObjectivesView DataContext="{Binding ObjectivesVM}"/>
        </Panel>
      </Grid>

    </SplitView>

    <!-- StatusBar-->
    <Grid Grid.Row="1">
      <views:StatusBarView DataContext="{Binding StatusBarVM}"/>
    </Grid>
    
  </Grid>

</UserControl>
